<%= content_for(:title,  '管理员登录 | Koogle') %>
<div class="login-box">
  <div class="login-logo">
    <a href="/"><b>轩</b>管理员登录</a>
  </div><!-- /.login-logo -->
  <%= render partial: 'layouts/notice' %>
  <div class="login-box-body">
    <p class="login-box-msg">管理员登录</p>
    <div id="tip" class="register-box-msg" style="color: #f56954"></div>
    <form action="<%= admin_login_path %>" method="post">
      <div class="form-group has-feedback">
        <input id="email" name="account" type="text" class="form-control" placeholder="（必填）*登录邮箱"/>
        <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
      </div>
      <div class="form-group has-feedback">
        <input id="password" name="password" type="password" class="form-control" placeholder="（必填）*登录密码"/>
        <span class="glyphicon glyphicon-lock form-control-feedback"></span>
      </div>
      <div class="row">
        <div class="col-xs-8">
          <div class="checkbox icheck">
            <label>
              <input type="checkbox"> 记住我
            </label>
          </div>
        </div><!-- /.col -->
        <div class="col-xs-4">
          <button type="submit" class="btn btn-primary btn-block btn-flat">登录</button>
        </div><!-- /.col -->
      </div>
    </form>
    <a href="#" class="text-center">还没有账户，注册管理员</a>
  </div><!-- /.login-box-body -->
</div><!-- /.login-box -->

<script>
    $(function () {
        $('input').iCheck({
            checkboxClass: 'icheckbox_square-blue',
            radioClass: 'iradio_square-blue',
            increaseArea: '20%' // optional
        });
    });
</script>
<script>
    $('#email').change(function(){
        var reg = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;
        if(!reg.test($.trim($('#email').val())))
        {
            $('#tip').html("键入的邮箱格式不正确");
            $('#email').val('');
            $('#password').val('');
            return false;
        }else{
            $('#tip').html("");
        }
    })
    $('#password').change(function(){
        if($('#password').val().length < 6){
            $('#tip').html('键入的密码非安全长度,请保持6位以上');
            $('#password').val('');
            return false;
        }else{
            $('#tip').html('');
        }
    })
</script>
